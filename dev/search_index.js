var documenterSearchIndex = {"docs":
[{"location":"mstmv4/#MSTM4Runner","page":"MSTM v4","title":"MSTM4Runner","text":"","category":"section"},{"location":"mstmv4/","page":"MSTM v4","title":"MSTM v4","text":"Modules = [MSTM4Runner]","category":"page"},{"location":"mstmv4/#MSTM4Runner.run_mstm-Tuple{STMMConfig}","page":"MSTM v4","title":"MSTM4Runner.run_mstm","text":"run_mstm(cfg; keep, mstm_command)\n\n\nUse the given configuration to run MSTM v4.\n\nIf keep = true, the working directory will not be removed after the run. \n\n\n\n\n\n","category":"method"},{"location":"fastmm/#FaSTMMRunner","page":"FaSTMM","title":"FaSTMMRunner","text":"","category":"section"},{"location":"fastmm/","page":"FaSTMM","title":"FaSTMM","text":"Modules = [FaSTMMRunner]","category":"page"},{"location":"fastmm/#FaSTMMRunner.run_fastmm-Tuple{STMMConfig}","page":"FaSTMM","title":"FaSTMMRunner.run_fastmm","text":"run_fastmm(cfg; keep, fastmm_exe_name)\n\n\nUse the given configuration to run FaSTMM.\n\nIf keep = true, the working directory will not be removed after the run. \nfastmm_exe_name specifies the name or path of your compiled FaSTMM executable.\n\n\n\n\n\n","category":"method"},{"location":"mstmv3/#MSTM3Runner","page":"MSTM v3","title":"MSTM3Runner","text":"","category":"section"},{"location":"mstmv3/","page":"MSTM v3","title":"MSTM v3","text":"Modules = [MSTM3Runner]","category":"page"},{"location":"mstmv3/#MSTM3Runner.read_tmatrix-Tuple{String}","page":"MSTM v3","title":"MSTM3Runner.read_tmatrix","text":"read_tmatrix(filename)\n\n\nRead the MSTM3 format T-Matrix.\n\nNote that in MSTM3, TM = 1 and TE = 2, which is the opposite of the definition in TransitionMatrices.jl.\n\n\n\n\n\n","category":"method"},{"location":"mstmv3/#MSTM3Runner.run_mstm-Tuple{STMMConfig}","page":"MSTM v3","title":"MSTM3Runner.run_mstm","text":"run_mstm(cfg; keep, mstm_exe_name, mstm_command)\n\n\nUse the given configuration to run MSTM v3.\n\nIf keep = true, the working directory will not be removed after the run. \nmstm_exe_name specifies the name or path of your compiled MSTM v3 executable.\n\n\n\n\n\n","category":"method"},{"location":"mstmv3/#MSTM3Runner.write_tmatrix-Union{Tuple{N}, Tuple{CT}, Tuple{String, TransitionMatrices.AbstractTransitionMatrix{CT, N}, TransitionMatrices.AbstractShape}} where {CT, N}","page":"MSTM v3","title":"MSTM3Runner.write_tmatrix","text":"write_tmatrix(filename, ð“, shape)\n\n\nWrite the T-Matrix to filename in the format expected by MSTM3.\n\nNote that in MSTM3, TM = 1 and TE = 2, which is the opposite of the definition in TransitionMatrices.jl.\n\n\n\n\n\n","category":"method"},{"location":"#STMMRunner","page":"Home","title":"STMMRunner","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"(Image: Stable) (Image: Dev) (Image: Build Status) (Image: Coverage)","category":"page"},{"location":"","page":"Home","title":"Home","text":"STMMRunner provides a common configuration interface for several STMM (Superposition T-Matrix Method) codes. Since each runner package (they are listed below) reexports all the structs and methods defined in STMMRunner, you do not need to specify STMMRunner as a dependency. Instead, you should use the corresponding STMM code package directly.","category":"page"},{"location":"","page":"Home","title":"Home","text":"Currently supported STMM models:","category":"page"},{"location":"","page":"Home","title":"Home","text":"MSTM4Runner: wrapping MSTM v4\nYou do not need to compile MSTM v4 locally since there is already the MSTM_jll package.\nLattice mode not supported yet.\nMSTM3Runner: wrapping MSTM v3\nYou need to compile a parallel version of MSTM v3.\nFaSTMMRunner: wrapping FaSTMM\nYou need a compiled version of FaSTMM.\nSMUTHIRunner: wrapping SMUTHI\nSMUTHI will be automatically installed via CondaPkg.","category":"page"},{"location":"","page":"Home","title":"Home","text":"Working in progress:","category":"page"},{"location":"","page":"Home","title":"Home","text":"CELES\nTERMS","category":"page"},{"location":"smuthi/#SMUTHIRunner","page":"SMUTHIRunner","title":"SMUTHIRunner","text":"","category":"section"},{"location":"smuthi/","page":"SMUTHIRunner","title":"SMUTHIRunner","text":"Modules = [SMUTHIRunner]","category":"page"},{"location":"config/","page":"Configurations","title":"Configurations","text":"CurrentModule = STMMRunner","category":"page"},{"location":"config/#Configurations","page":"Configurations","title":"Configurations","text":"","category":"section"},{"location":"config/","page":"Configurations","title":"Configurations","text":"Modules = [STMMRunner]","category":"page"},{"location":"config/#STMMRunner.Layer","page":"Configurations","title":"STMMRunner.Layer","text":"A horizontally infinite medium layer with certain thickness.\n\nd: Thickness of the layer. Default is 0.0.\nm: Complex refractive index of the layer. Default is 1.0.\nÎ²: Complex chiral factor of the layer. Default is 0.0.\n\n\n\n\n\n","category":"type"},{"location":"config/#STMMRunner.STMMConfig","page":"Configurations","title":"STMMRunner.STMMConfig","text":"Configuration for an STMM run.\n\nworking_directory: The folder for storing intermediate results. Default is \"\", which means a temporary folder will be created inside the current directory and be used as the working directory.\nnumber_processors: The number of processes to be initiated. Default is 1.\noutput_file: Name of the output file. Default is \"mstm.out\".\nrun_print_file: Name of the file for storing run information. Default is \"mstm.run\".\ntarget_euler_angles_deg: [MSTM v3] Rotate the target about the target coordinate frame using a z-y-z specified Euler angle. Default is (0.0, 0.0, 0.0).\nmie_epsilon: [MSTM v3, MSTM v4] Convergence criterion for determining the truncation order for the wave function expansions for each sphere. Default is 1e-6.\nCan also be set as a negative integer -L to force all sphere expansions to be truncated at L-th order.\n\ntranslation_epsilon: [MSTM v3, MSTM v4] Convergence criterion for estimating the maximum order of the T matrix for the cluster. Default is 1e-6.\nsolution_epsilon: [MSTM v3, MSTM v4, FaSTMM] Error criterion for the iterative solver (biconjugate gradient for MSTM, and GMRES for FaSTMM). Default is 1e-8.\nmax_t_matrix_order: [MSTM v4] The maximum truncation degree of the T matrix. This is needed to mostly to keep the code from crashing due to memory allocation limits. Default is 120.\nt_matrix_epsilon: [MSTM v3] Convergence criterion for T matrix solution. Default is 1e-7.\nMSTM v4 should also support this option, but it is not yet implemented.\n\nmax_iterations: [MSTM v3, MSTM v4, FaSTMM] The maximum number of iterations attempted to reach a solution. Default is 5000.\nstore_translation_matrix: [MSTM v3, MSTM v4] = false, the near field translation matrices are calculated during iteration and not stored in memory; = true, near field matrices are calculated prior to the solution and stored in memory. Storing the matrices in memory results in some improvement in execution time, yet the amount of memory used vs. the resources available is not checked. Use this option at your own peril. Default is false.\n\nsm_number_processors: [MSTM v3] The number of processors to be used on parallel platform runs to calculate the expansion coefficients for the random orientation scattering matrix. The actual number of processors used during this step will be the minimum of the total number of processors for the run (the MPI size) and smnumberprocessors. Default is 1.\n\nnear_field_translation_distance: [MSTM v3] The threshold for the translation from near-field calculation to far-field calculation.\nA value larger than the maximum sphere-to-sphere kr (i.e., a sufficiently large number, say 1e6) causes all spheres to belong to the near field set.\nA value smaller than the minimum sphere-to-sphere kr (i.e., zero) causes all spheres to belong to the far field set.\nA negative value enables the automatic criterion:\nkr_i-jleleftfrac12(L_i+L_j)^2right\nDefault is 1e6, which means all spheres are considered to be within each other's near field.\n\niterations_per_correction: [MSTM v3] The maximum number of BCGM iterations for a given correction stage. Default is 20. Only works when there are some sphere pairs belonging to the far field set.\n\nÎ¸_min: [MSTM v3] The minimum scattering polar angle. Default is 0.0.\nÎ¸_max: [MSTM v3] The maximum scattering polar angle. Default is 180.0.\nÏ•_min: [MSTM v3] The minimum scattering azimuthal angle. Default is 0.0.\nÏ•_max: [MSTM v3] The maximum scattering azimuthal angle. Default is 0.0.\nÎ”Î¸: [MSTM v3, MSTM v4] The interval of Î¸ for scattering matrix calculation. Default is 1.0.\nÎ”Ï•: [FaSTMM] The interval of Ï• for scattering matrix calculation. Default is 10.0.\nframe: [MSTM v3, MSTM v4] This selects the reference coordinate frame upon which the scattering angles are based.\nIncidentFrame, the frame is based on the incident field so that Î¸ = 0 is the forward scattering direction (i.e., the direction of incident field propagation) and Î¸ = Î², Ï† = 180 is the target z axis direction.\nTargetFrame, the frame is based on the target frame so that Î¸ = 0corresponds to the target z axis andÎ¸ = Î², Ï† = Î±`` is the incident field direction .false. Random orientation calculations force this option.\n\nnormalize_scattering_matrix: [MSTM v3, MSTM v4] Whether or not to normalize the scattering matrix. Default is true. For MSTM v3, this option normalizes other matrix elements according to S11. For MSTM v4, other elements are always normalized to S11, and this option controls the normalization of S11 itself.\n\nazimuthal_average: [MSTM v3, MSTM v4] Whether or not to take azimuthal average for fixed orientation calculations. Default is false.\n\nsingle_origin_expansion: [MSTM v4] Whether or not to reexpand the scattered electric field at a single origin. Default is true. When azimuthal_average is true, this option must be turned on. It is recommended to turn this option off for sparse spheres, such as a fractal aggregate.\n\ngaussian_beam_constant: [MSTM v3, MSTM v4] Dimensionless inverse width CB, at the focal point, of an incident Gaussian profile beam. Setting to 0selects plane wave incidence. The localized approximation used to represent the Gaussian beam is accurate for CB â‰¤ 0.2. Default is0.0` (plane wave).\n\ngaussian_beam_focal_point: [MSTM v3, MSTM v4] x, y, and z coordinates of the focal point of the Gaussian beam, relative to the origin defined by spheres. Default is (0.0, 0.0, 0.0).\n\norientation: [MSTM v3, MSTM v4]\nUse FixedOrientation for a fixed orientation calculation.\nUse RandomOrientation for a random orientation calculation.\nDefault is FixedOrientation.\n\nuse_monte_carlo_integration: [MSTM v4] Use Monte Carlo integration instead of analytical average. Default is false.\nnumber_incident_directions: [MSTM v4] Number of directions used for Monte Carlo integration. Works only when use_monte_carlo_integration = true. Default is 100.\nÎ±: The azimuthal angle (in degrees) of the incident wave. Default is 0.0.\nÎ²: The polar angle (in degrees) of the incident wave. Default is 0.0.\ncalculate_scattering_matrix: [MSTM v4] Whether or not to calculate the scattering matrix. Default is true.\ncalculate_scattering_coefficients: [MSTM v3] Whether or not to calculate the scattering oefficients. Default is true. When = false, the scattering coefficients will be read from the file specified by scattering_coefficient_file.\n\nscattering_coefficient_file: [MSTM v3] File name for the scattering coefficient file. Default is \"mstm.scat\".\nWhen calculate_scattering_coefficients = false, the scattering coefficients will be read from this file.\nWhen calculate_scattering_coefficients = true, the scattering coefficients will be written to this file.\n\nuse_fft_translation: [MSTM v4] Whether or not to use the FFT-based accelerated algorithm. Default is false.\ncell_volume_fraction: [MSTM v4] This determines the grid size d of the cubic lattice used in the algorithm. The formula is:\nd=left(fracV_ScN_sextright)^13\nwhere V_S is the dimensionless total volume of the external spheres and c is cell_volume_fraction. The optimum value is usually where the total number of nodes is close to the total number of external spheres NS,ext. Setting cell_volume_fraction = 0 will automate the setting of d using an estimate of the sphere volume fraction. Default is 0.0. Works only when use_fft_translation = true.\n\nnode_order: [MSTM v4] Truncation degree for the nodeâ€“based expansions of the scattered field. Set node_order = âˆ’L, where L is a positive integer, will set the node order to ceil(d) + L. Default is -1. Works only when use_fft_translation = true.\n\nscattering_map_model: [MSTM v4] = 0 will have the scattering matrix printed at a range of polar angles (Î¸), with angular increment given in degrees by Î”Î¸. The scattering plane coincides with the incident azimuth plane. The limits on Î¸ depend on the number of plane boundaries NB. scattering_map_model = 1 will print the scattering matrix in a pair (cosÎ¸ > 0, < 0) of 2D arrays, with coordinates kx = sinÎ¸cosÏ†, ky = sinÎ¸sinÏ†. The number of points on each axis is given by scattering_map_dimension. Default is 0, and random orientation calculations force 0.\n\nscattering_map_dimension: [MSTM v4] The number of points on each axis. Default is 15. Works only when scattering_map_model = 1.\n\ntrack_iterations: [MSTM v3] Whether or not to print each iteration's error in the run print file. Default is true.\ncalculate_near_field: [MSTM v3, MSTM v4] Whether or not to calculate the near field. Default is false.\nnear_field_plane_coord: [MSTM v3] Coordinate of the near field plane. 1 = y-z, 2 = z-x, 3 = x-y. Default is 1.\nnear_field_plane_position: [MSTM v3] Position of the near field plane.\nWhen near_field_plane_coord = 1, this is the x-coordinate.\nWhen near_field_plane_coord = 2, this is the y-coordinate.\nWhen near_field_plane_coord = 3, this is the z-coordinate.\nDefault is 0.0.\n\nnear_field_plane_vertices: [MSTM v3] Rectangle region of the near field plane.\nWhen passing (Î”X, Î”Y), the actual region would be (X_min-Î”X, X_max+Î”X) x (Y_min-Î”Y, Y_max+Î”Y), where X_min, X_max,Y_min and Y_max are automatically calculated.\nWhen passing (X_min, Y_min, X_max, Y_max), the region would be used as it is.\nDefault is (0.0, 0.0).\n\nnear_field_x_min: [MSTM v4] The minimum x coordinate of the near field calculation region. Default is 0.0.\nnear_field_x_max: [MSTM v4] The maximum x coordinate of the near field calculation region. Default is 0.0.\nnear_field_y_min: [MSTM v4] The minimum y coordinate of the near field calculation region. Default is 0.0.\nnear_field_y_max: [MSTM v4] The maximum y coordinate of the near field calculation region. Default is 0.0.\nnear_field_z_min: [MSTM v4] The minimum z coordinate of the near field calculation region. Default is 0.0.\nnear_field_z_max: [MSTM v4] The maximum z coordinate of the near field calculation region. Default is 0.0.\nnear_field_step_size: [MSTM v3, MSTM v4] The spacial step size of the grid points. Default is 0.1.\nnear_field_calculation_model: [MSTM v4] Controls where the incident field appears in the calculation results; = 1 is the standard model, where the external field is = scattered + incident and the field inside the spheres is calculated from the internal field expansions; â‰  1 has the external field due solely to the scattered field, and the field inside the particles is now internal-incident. Default is 1.\n\npolarization_angle_deg: [MSTM v3] A specific polarization state of the incident field is needed to calculate the near field. The field is taken to be linearly polarized, with a polarization angle of Î³ relative to the kâ€“z plane. When Î² = 0, Î³ becomes the azimuth angle of the incident electric field vector relative to the cluster coordinate system. Default is 0.0.\n\nstore_surface_vector: [MSTM v4] Whether or not to enable an accelerated algorithm for calculation of field value. Default is true.\n\nnear_field_expansion_spacing: [MSTM v4] Size of the grid used for reâ€“expansion of fields resulting from plane boundary and periodic lattice interactions. Default is 5.0. Experiment with this if your calculations are taking too long. Only works when store_surface_vector = true.\n\nnear_field_expansion_order: [MSTM v4] Expansion truncation order used for the grid reâ€“expansion of the secondary field, per the above option. Should scale with nearfieldexpansionspacing following a Mieâ€“type criteria. The bigger the value, the more accurate the results, but the slower the calculations and the greater the memory demands. Default is 10. Only works when `storesurface_vector = true`.\n\nnear_field_output_file: [MSTM v3, MSTM v4] File name for the near field output. Default is \"mstm.nf\".\nplane_wave_epsilon: [MSTM v3] The incident field component for the near field calculations â€“ for either the plane wave or Gaussian beam models â€“- is calculated using a single, regular VSWF expansion centered about the beam focal point. The plane wave epsilon is a convergence criterion for this expansion. Default is 1e-4.\n\ncalculate_t_matrix: [MSTM v3] Option to calculate the T matrix or use an exisiting T matrix file. Default is true, which calculates the T matrix.\n\nt_matrix_file: [MSTM v3]\nWhen calculate_t_matrix = true, this is the file name for the T matrix output.\nWhen calculate_t_matrix = false, this is the file name for reading the T matrix from.\nDefault is \"mstm.tm\".\n\nlayers: [MSTM v3, MSTM v4] Medium layers.\nFor MSTM v3, only the refractive index and chiral factor of the first layer will be used. Thickness is ignored.\nFor MSTM v4, the first layer locates at z=0 and extends to -âˆž. The last layer extends to +âˆž. The thickness of the first and the last layer is ignored.\n\nspheres: [MSTM v3, MSTM v4] Spheres.\nperiodic: [MSTM v4] When periodic = true, the spheres will be considered to construct a periodic lattice in the x-y plane. Note that periodic lattice is incompatible with random orientation.\ncell_size: [MSTM v4] When periodic = true, this option sets the size of the periodic lattice. The cell size will be automatically enlarged if it cannot contain all the spheres.\nredirect_stdout: Redirect the output of the program to the specified IO stream. Default is Base.stdout.\n\n\n\n\n\n","category":"type"},{"location":"config/#STMMRunner.STMMConfig-Tuple{STMMConfig}","page":"Configurations","title":"STMMRunner.STMMConfig","text":"Helper function for building a configuration on basis of an existing configuration.\n\nSTMMConfig(original; kwargs...)\n\n\n\n\n\n\n","category":"method"},{"location":"config/#STMMRunner.Sphere","page":"Configurations","title":"STMMRunner.Sphere","text":"A spherical particle.\n\nr: Radius of the sphere.\nx: x coordinate of the sphere.\ny: y coordinate of the sphere.\nz: z coordinate of the sphere.\nm: Complex refractive index of the sphere. Default is 1.0.\nÎ²: Complex chiral factor of the sphere. Default is 0.0.\nt_matrix: The T matrix file specifying the scattering properties of the sphere. Default is \"\" (empty).\n\n\n\n\n\n","category":"type"}]
}
