var documenterSearchIndex = {"docs":
[{"location":"mstmv4/#MSTM-v4","page":"MSTM v4","title":"MSTM v4","text":"","category":"section"},{"location":"mstmv4/","page":"MSTM v4","title":"MSTM v4","text":"Modules = [STMMRunner.MSTM.V4]","category":"page"},{"location":"mstmv4/#STMMRunner.MSTM.V4.run_mstm-Tuple{STMMConfig}","page":"MSTM v4","title":"STMMRunner.MSTM.V4.run_mstm","text":"Use the given configuration to run MSTM v4.\n\nrun_mstm(cfg; keep)\n\n\nIf keep = true, the working directory will not be removed after the run. \n\n\n\n\n\n","category":"method"},{"location":"mstmv3/#MSTM-v3","page":"MSTM v3","title":"MSTM v3","text":"","category":"section"},{"location":"mstmv3/","page":"MSTM v3","title":"MSTM v3","text":"Modules = [STMMRunner.MSTM.V3]","category":"page"},{"location":"mstmv3/#STMMRunner.MSTM.V3.run_mstm-Tuple{STMMConfig}","page":"MSTM v3","title":"STMMRunner.MSTM.V3.run_mstm","text":"Use the given configuration to run MSTM v3.\n\nrun_mstm(cfg; keep, mstm_exe_name)\n\n\nIf keep = true, the working directory will not be removed after the run. \nmstm_exe_name specifies the name or path of your compiled MSTM v3 executable.\n\n\n\n\n\n","category":"method"},{"location":"#STMMRunner","page":"Home","title":"STMMRunner","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Documentation for STMMRunner.","category":"page"},{"location":"","page":"Home","title":"Home","text":"Currently supported STMM models:","category":"page"},{"location":"","page":"Home","title":"Home","text":"MSTM v4\nYou do not need to compile MSTM v4 locally since there is already the MSTM_jll package.\nLattice mode not supported yet.\nMSTM v3\nYou need to compile a parallel version of MSTM v3.","category":"page"},{"location":"","page":"Home","title":"Home","text":"Working in process:","category":"page"},{"location":"","page":"Home","title":"Home","text":"FaSTMM\nCELES\nTERMS","category":"page"},{"location":"config/","page":"Configurations","title":"Configurations","text":"CurrentModule = STMMRunner","category":"page"},{"location":"config/#Configurations","page":"Configurations","title":"Configurations","text":"","category":"section"},{"location":"config/","page":"Configurations","title":"Configurations","text":"","category":"page"},{"location":"config/","page":"Configurations","title":"Configurations","text":"Modules = [STMMRunner]","category":"page"},{"location":"config/#STMMRunner.Layer","page":"Configurations","title":"STMMRunner.Layer","text":"A horizontally infinite medium layer with certain thickness.\n\nd\nThickness of the layer. Default is 0.0.\nm\nComplex refractive index of the layer. Default is 1.0.\nβ\nComplex chiral factor of the layer. Default is 0.0.\n\n\n\n\n\n","category":"type"},{"location":"config/#STMMRunner.STMMConfig","page":"Configurations","title":"STMMRunner.STMMConfig","text":"Configuration for an STMM run.\n\nworking_directory\nThe folder for storing intermediate results. Default is \"\", which means a temporary folder will be created inside the current directory and be used as the working directory.\nnumber_processors\nThe number of processes to be initiated. Default is 1.\noutput_file\nName of the output file. Default is \"mstm.out\".\nrun_print_file\nName of the file for storing run information. Default is \"mstm.run\".\ntarget_euler_angles_deg\n[MSTM v3] Rotate the target about the target coordinate frame using a z-y-z specified Euler angle. Default is (0.0, 0.0, 0.0).\nmie_epsilon\n[MSTM v3, MSTM v4] Convergence criterion for determining the truncation order for the wave function expansions for each sphere. Default is 1e-6.\nCan also be set as a negative integer -L to force all sphere expansions to be truncated at L-th order.\n\ntranslation_epsilon\n[MSTM v3, MSTM v4] Convergence criterion for estimating the maximum order of the T matrix for the cluster. Default is 1e-6.\nsolution_epsilon\n[MSTM v3, MSTM v4] Error criterion for the biconjugate gradient iterative solver. Default is 1e-8.\nmax_t_matrix_order\n[MSTM v4] The maximum truncation degree of the T matrix. This is needed to mostly to keep the code from crashing due to memory allocation limits. Default is 120.\nt_matrix_epsilon\n[MSTM v3] Convergence criterion for T matrix solution. Default is 1e-7.\nMSTM v4 should also support this option, but it is not yet implemented.\n\nmax_iterations\n[MSTM v3, MSTM v4] The maximum number of iterations attempted to reach a solution. Default is 5000.\nstore_translation_matrix\n[MSTM v3, MSTM v4] = false, the near field translation matrices are calculated during iteration and not stored in memory; = true, near field matrices are calculated prior to the solution and stored in memory. Storing the matrices in memory results in some improvement in execution time, yet the amount of memory used vs. the resources available is not checked. Use this option at your own peril. Default is false.\n\nsm_number_processors\n[MSTM v3] The number of processors to be used on parallel platform runs to calculate the expansion coefficients for the random orientation scattering matrix. The actual number of processors used during this step will be the minimum of the total number of processors for the run (the MPI size) and smnumberprocessors. Default is 1.\n\nnear_field_translation_distance\n[MSTM v3] The threshold for the translation from near-field calculation to far-field calculation.\nA value larger than the maximum sphere-to-sphere kr (i.e., a sufficiently large number, say 1e6) causes all spheres to belong to the near field set.\nA value smaller than the minimum sphere-to-sphere kr (i.e., zero) causes all spheres to belong to the far field set.\nA negative value enables the automatic criterion:\nkr_i-jleleftfrac12(L_i+L_j)^2right\nDefault is 1e6, which means all spheres are considered to be within each other's near field.\n\niterations_per_correction\n[MSTM v3] The maximum number of BCGM iterations for a given correction stage. Default is 20. Only works when there are some sphere pairs belonging to the far field set.\n\nθ_min\n[MSTM v3] The minimum scattering polar angle. Default is 0.0.\nθ_max\n[MSTM v3] The maximum scattering polar angle. Default is 0.0.\nϕ_min\n[MSTM v3] The minimum scattering azimuthal angle. Default is 0.0.\nϕ_max\n[MSTM v3] The maximum scattering azimuthal angle. Default is 0.0.\nΔθ\n[MSTM v3, MSTM v4] The interval of θ for scattering matrix calculation. Default is 1.0.\nframe\n[MSTM v3, MSTM v4] This selects the reference coordinate frame upon which the scattering angles are based.\nIncidentFrame, the frame is based on the incident field so that θ = 0 is the forward scattering direction (i.e., the direction of incident field propagation) and θ = β, φ = 180 is the target z axis direction.\nTargetFrame, the frame is based on the target frame so that θ = 0corresponds to the target z axis andθ = β, φ = α`` is the incident field direction .false. Random orientation calculations force this option.\n\nnormalize_scattering_matrix\n[MSTM v3, MSTM v4] Whether or not to normalize the scattering matrix. Default is true.\nazimuthal_average\n[MSTM v3, MSTM v4] Whether or not to take azimuthal average for fixed orientation calculations. Default is false.\ngaussian_beam_constant\n[MSTM v3, MSTM v4] Dimensionless inverse width CB, at the focal point, of an incident Gaussian profile beam. Setting to 0selects plane wave incidence. The localized approximation used to represent the Gaussian beam is accurate for CB ≤ 0.2. Default is0.0` (plane wave).\n\ngaussian_beam_focal_point\n[MSTM v3, MSTM v4] x, y, and z coordinates of the focal point of the Gaussian beam, relative to the origin defined by spheres. Default is (0.0, 0.0, 0.0).\n\norientation\n[MSTM v3, MSTM v4]\nUse FixedOrientation for a fixed orientation calculation.\nUse RandomOrientation for a random orientation calculation.\nDefault is FixedOrientation.\n\nuse_monte_carlo_integration\n[MSTM v4] Use Monte Carlo integration instead of analytical average. Default is false.\nnumber_incident_directions\n[MSTM v4] Number of directions used for Monte Carlo integration. Works only when use_monte_carlo_integration = true. Default is 100.\nα\nThe azimuthal angle (in degrees) of the incident wave. Default is 0.0.\nβ\nThe polar angle (in degrees) of the incident wave. Default is 0.0.\ncalculate_scattering_matrix\n[MSTM v4] Whether or not to calculate the scattering matrix. Default is true.\ncalculate_scattering_coefficients\n[MSTM v3] Whether or not to calculate the scattering oefficients. Default is true. When = false, the scattering coefficients will be read from the file specified by scattering_coefficient_file.\n\nscattering_coefficient_file\n[MSTM v3] File name for the scattering coefficient file. Default is \"mstm.sca\".\nWhen calculate_scattering_coefficients = false, the scattering coefficients will be read from this file.\nWhen calculate_scattering_coefficients = true, the scattering coefficients will be written to this file.\n\nscattering_map_model\n[MSTM v4] = 0 will have the scattering matrix printed at a range of polar angles (θ), with angular increment given in degrees by Δθ. The scattering plane coincides with the incident azimuth plane. The limits on θ depend on the number of plane boundaries NB. scatteringmapmodel= 1 will print the scattering matrix in a pair (cosθ > 0, < 0) of 2D arrays, with coordinates kx = sinθcosφ, ky = sinθsinφ. The number of points on each axis is given by scattering_map_dimension. Default is 0, and random orientation calculations force 0.\n\nscattering_map_dimension\n[MSTM v4] The number of points on each axis. Default is 15. Works only when scattering_map_model = 1.\n\ntrack_iterations\n[MSTM v3] Whether or not to print each iteration's error in the run print file. Default is true.\ncalculate_near_field\n[MSTM v3, MSTM v4] Whether or not to calculate the near field. Default is false.\nnear_field_plane_coord\n[MSTM v3] Coordinate of the near field plane. 1 = y-z, 2 = z-x, 3 = x-y. Default is 1.\nnear_field_plane_position\n[MSTM v3] Position of the near field plane.\nWhen near_field_plane_coord = 1, this is the x-coordinate.\nWhen near_field_plane_coord = 2, this is the y-coordinate.\nWhen near_field_plane_coord = 3, this is the z-coordinate.\nDefault is 0.0.\n\nnear_field_plane_vertices\n[MSTM v3] Rectangle region of the near field plane.\nWhen passing (ΔX, ΔY), the actual region would be (X_min-ΔX, X_max+ΔX) x (Y_min-ΔY, Y_max+ΔY), where X_min, X_max,Y_min and Y_max are automatically calculated.\nWhen passing (X_min, Y_min, X_max, Y_max), the region would be used as it is.\nDefault is (0.0, 0.0).\n\nnear_field_x_min\n[MSTM v4] The minimum x coordinate of the near field calculation region. Default is 0.0.\nnear_field_x_max\n[MSTM v4] The maximum x coordinate of the near field calculation region. Default is 0.0.\nnear_field_y_min\n[MSTM v4] The minimum y coordinate of the near field calculation region. Default is 0.0.\nnear_field_y_max\n[MSTM v4] The maximum y coordinate of the near field calculation region. Default is 0.0.\nnear_field_z_min\n[MSTM v4] The minimum z coordinate of the near field calculation region. Default is 0.0.\nnear_field_z_max\n[MSTM v4] The maximum z coordinate of the near field calculation region. Default is 0.0.\nnear_field_step_size\n[MSTM v3, MSTM v4] The spacial step size of the grid points. Default is 0.1.\nnear_field_calculation_model\n[MSTM v4] Controls where the incident field appears in the calculation results; = 1 is the standard model, where the external field is = scattered + incident and the field inside the spheres is calculated from the internal field expansions; ≠ 1 has the external field due solely to the scattered field, and the field inside the particles is now internal-incident. Default is 1.\n\npolarization_angle_deg\n[MSTM v3] A specific polarization state of the incident field is needed to calculate the near field. The field is taken to be linearly polarized, with a polarization angle of γ relative to the k–z plane. When β = 0, γ becomes the azimuth angle of the incident electric field vector relative to the cluster coordinate system. Default is 0.0.\n\nstore_surface_vector\n[MSTM v4] Whether or not to enable an accelerated algorithm for calculation of field value. Default is true.\n\nnear_field_expansion_spacing\n[MSTM v4] Size of the grid used for re–expansion of fields resulting from plane boundary and periodic lattice interactions. Default is 5.0. Experiment with this if your calculations are taking too long. Only works when store_surface_vector = true.\n\nnear_field_expansion_order\n[MSTM v4] Expansion truncation order used for the grid re–expansion of the secondary field, per the above option. Should scale with nearfieldexpansionspacing following a Mie–type criteria. The bigger the value, the more accurate the results, but the slower the calculations and the greater the memory demands. Default is 10. Only works when `storesurface_vector = true`.\n\nnear_field_output_file\nFile name for the near field output. Default is \"mstm.nf\".\nplane_wave_epsilon\n[MSTM v3] The incident field component for the near field calculations – for either the plane wave or Gaussian beam models –- is calculated using a single, regular VSWF expansion centered about the beam focal point. The plane wave epsilon is a convergence criterion for this expansion. Default is 1e-4.\n\ncalculate_t_matrix\n[MSTM v3] Option to calculate the T matrix or use an exisiting T matrix file. Default is true, which calculates the T matrix.\n\nt_matrix_file\n[MSTM v3]\nWhen calculate_t_matrix = true, this is the file name for the T matrix output.\nWhen calculate_t_matrix = false, this is the file name for reading the T matrix from.\nDefault is \"mstm.tm\".\n\nlayers\n[MSTM v3, MSTM v4] Medium layers.\nFor MSTM v3, only the refractive index and chiral factor of the first layer will be used. Thickness is ignored.\nFor MSTM v4, the first layer locates at z=0 and extends to -∞. The last layer extends to +∞. The thickness of the first and the last layer is ignored.\n\nspheres\n[MSTM v3, MSTM v4] Spheres.\n\n\n\n\n\n","category":"type"},{"location":"config/#STMMRunner.STMMConfig-Tuple{STMMConfig}","page":"Configurations","title":"STMMRunner.STMMConfig","text":"Helper function for building a configuration on basis of an existing configuration.\n\nSTMMConfig(original; kwargs...)\n\n\n\n\n\n\n","category":"method"},{"location":"config/#STMMRunner.Sphere","page":"Configurations","title":"STMMRunner.Sphere","text":"A spherical particle.\n\nr\nRadius of the sphere.\nx\nx coordinate of the sphere.\ny\ny coordinate of the sphere.\nz\nz coordinate of the sphere.\nm\nComplex refractive index of the sphere. Default is 1.0.\nβ\nComplex chiral factor of the sphere. Default is 0.0.\nt_matrix\nThe T matrix file specifying the scattering properties of the sphere. Default is \"\" (empty).\n\n\n\n\n\n","category":"type"}]
}
